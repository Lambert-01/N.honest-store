<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N.Honest Customer Signup</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/login.css">
    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <!-- EmailJS Configuration -->
    <script type="text/javascript" src="../js/emailConfig.js"></script>
    <!-- Google Sign-In API -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
    <div class="login-container signup-container">
        <div class="logo">
            <img src="../images/f.logo.png" alt="N.Honest Logo">
        </div>
        <div class="alert alert-danger" id="error-alert"></div>
        
        <form id="signup-form">
            <h2 class="text-center mb-4">Create Customer Account</h2>
            
            <div class="row mb-3">
                <div class="col">
                    <label for="firstName" class="form-label">First Name</label>
                    <input type="text" class="form-control" id="firstName" name="firstName" required>
                </div>
                <div class="col">
                    <label for="lastName" class="form-label">Last Name</label>
                    <input type="text" class="form-control" id="lastName" name="lastName" required>
                </div>
            </div>
            
            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" name="email" required>
                <small class="form-text text-muted">We'll send a verification link to this email.</small>
            </div>
            
            <div class="mb-3">
                <label for="phone" class="form-label">Phone Number</label>
                <input type="tel" class="form-control" id="phone" name="phone">
            </div>
            
            <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <input type="password" class="form-control" id="password" name="password" required 
                       minlength="8" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}">
                <small class="form-text text-muted">Password must be at least 8 characters long and include uppercase, lowercase, and numbers.</small>
            </div>
            
            <div class="mb-3">
                <label for="confirmPassword" class="form-label">Confirm Password</label>
                <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" required>
            </div>
            
            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="terms" required>
                <label class="form-check-label" for="terms">I agree to the <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">Terms and Conditions</a></label>
            </div>
            
            <div class="d-grid gap-2">
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-user-plus me-2"></i>Create Account
                </button>
                <a href="/client-login" class="btn btn-outline-secondary">
                    <i class="fas fa-sign-in-alt me-2"></i>Already have an account? Login
                </a>
                
                <div class="separator my-3">OR</div>
                
                <!-- Google Sign-In Button -->
                <div id="g_id_onload"
                     data-client_id="132306460485-kjnoejoadpbklp9m3va8i1f37c796bo8.apps.googleusercontent.com"
                     data-context="signup"
                     data-ux_mode="popup"
                     data-callback="handleGoogleSignUp"
                     data-auto_prompt="false"
                     data-itp_support="true"
                     data-log_level="debug">
                </div>
                
                <div class="g_id_signin"
                     data-type="standard"
                     data-shape="rectangular"
                     data-theme="outline"
                     data-text="signup_with"
                     data-size="large"
                     data-logo_alignment="center"
                     data-width="100%">
                </div>
            </div>
        </form>
        
        <div class="mt-3 text-center">
            <a href="/" class="btn btn-link">
                <i class="fas fa-home me-2"></i>Back to Store
            </a>
        </div>
    </div>
    
    <!-- Terms and Conditions Modal -->
    <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="termsModalLabel">Terms and Conditions</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h6>1. Account Registration</h6>
                    <p>By creating an account with N.Honest, you agree to provide accurate and complete information. You are responsible for maintaining the confidentiality of your account and password.</p>
                    
                    <h6>2. Privacy Policy</h6>
                    <p>Your personal information will be handled in accordance with our Privacy Policy. By creating an account, you consent to the collection and use of your information as described in the Privacy Policy.</p>
                    
                    <h6>3. Communications</h6>
                    <p>By creating an account, you agree to receive transactional emails related to your account and orders. You may opt out of marketing communications at any time.</p>
                    
                    <h6>4. User Conduct</h6>
                    <p>You agree not to use the service for any unlawful purpose or in any way that could damage, disable, or impair the service.</p>
                    
                    <h6>5. Modifications to Terms</h6>
                    <p>N.Honest reserves the right to modify these terms at any time. Continued use of the service after such modifications constitutes your acceptance of the modified terms.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">I Understand</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Load external JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/client-signup.js"></script>
    
    <style>
        :root {
            --primary-blue: #0056b3;
            --secondary-blue: #003d82;
            --accent-yellow: #ffc107;
            --hover-yellow: #ffca2c;
        }

        body {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .login-container {
            max-width: 550px;
            margin: 2rem auto;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .logo {
            text-align: center;
            margin-bottom: 2rem;
            transform: scale(1);
            transition: transform 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .logo img {
            max-height: 80px;
            margin-bottom: 1rem;
        }

        .form-control {
            border: 2px solid #e9ecef;
            padding: 12px;
            transition: all 0.3s ease;
            background-color: #f8f9fa;
        }

        .form-control:focus {
            border-color: var(--accent-yellow);
            box-shadow: 0 0 0 0.25rem rgba(255, 193, 7, 0.25);
            background-color: #fff;
        }

        .btn-primary {
            background-color: var(--primary-blue);
            border: none;
            padding: 12px 24px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background-color: var(--secondary-blue);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-outline-secondary {
            border: 2px solid #dee2e6;
            padding: 12px 24px;
            transition: all 0.3s ease;
        }

        .btn-outline-secondary:hover {
            background-color: var(--accent-yellow);
            border-color: var(--accent-yellow);
            color: var(--secondary-blue);
            transform: translateY(-2px);
        }

        .separator {
            display: flex;
            align-items: center;
            text-align: center;
            color: #6c757d;
            margin: 2rem 0;
        }
        
        .separator::before,
        .separator::after {
            content: '';
            flex: 1;
            border-bottom: 2px solid #dee2e6;
        }
        
        .separator::before {
            margin-right: 1em;
        }
        
        .separator::after {
            margin-left: 1em;
        }

        .form-label {
            font-weight: 600;
            color: var(--secondary-blue);
            margin-bottom: 0.5rem;
        }

        .alert {
            border: none;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .form-check-input:checked {
            background-color: var(--accent-yellow);
            border-color: var(--accent-yellow);
        }

        .form-text {
            color: #6c757d;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }

        .btn-link {
            color: var(--primary-blue);
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .btn-link:hover {
            color: var(--accent-yellow);
            text-decoration: none;
        }

        /* Google Sign-In Button Container */
        .g_id_signin {
            margin: 0 auto;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        /* Modal Styling */
        .modal-content {
            border-radius: 15px;
            border: none;
        }

        .modal-header {
            background-color: var(--primary-blue);
            color: white;
            border-radius: 15px 15px 0 0;
        }

        .modal-header .btn-close {
            color: white;
            opacity: 1;
        }

        .modal-body h6 {
            color: var(--secondary-blue);
            margin-top: 1.5rem;
        }

        .modal-footer .btn-primary {
            background-color: var(--accent-yellow);
            color: var(--secondary-blue);
        }

        .modal-footer .btn-primary:hover {
            background-color: var(--hover-yellow);
        }

        /* Responsive Adjustments */
        @media (max-width: 576px) {
            .login-container {
                margin: 1rem;
                padding: 1.5rem;
            }

            .row {
                flex-direction: column;
            }

            .col {
                margin-bottom: 1rem;
            }
        }

        /* Form Animation */
        form {
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</body>
</html>
